     1                                  section .data
     2 00000000 48656C6C6F20776F72-         msg1    db  "Hello world!",10,0
     2 00000009 6C64210A00         
     3                                      len1    equ $-msg1
     4 0000000E 596F7572207475726E-         msg2    db  "Your turn: ",0
     4 00000017 3A2000             
     5                                      len2    equ $-msg2
     6 0000001A 596F7520616E737765-         msg3    db  "You answered: ",0
     6 00000023 7265643A2000       
     7                                      len3    equ $-msg3
     8                                      inlen   equ 10                      ; size of input buffer
     9                                  section .bss
    10 00000000 <res Bh>                    input   resb    inlen+1             ; +1 for the terminating zero
    11                                  section .text
    12                                      global  main:
    13                                  main:
    14 00000000 55                          push    rbp
    15 00000001 4889E5                      mov     rbp, rsp
    16                                  
    17 00000004 48BE-                       mov     rsi, msg1
    17 00000006 [0000000000000000] 
    18 0000000E BA0E000000                  mov     rdx, len1
    19 00000013 E852000000                  call    prints
    20                                  
    21 00000018 48BE-                       mov     rsi, msg2
    21 0000001A [0E00000000000000] 
    22 00000022 BA0C000000                  mov     rdx, len2
    23 00000027 E83E000000                  call    prints
    24                                  
    25 0000002C 48BE-                       mov     rsi, input
    25 0000002E [0000000000000000] 
    26 00000036 BA0A000000                  mov     rdx, inlen
    27 0000003B E83C000000                  call    reads
    28                                      
    29 00000040 48BE-                       mov     rsi, msg3
    29 00000042 [1A00000000000000] 
    30 0000004A BA0F000000                  mov     rdx, len3
    31 0000004F E816000000                  call    prints
    32                                  
    33 00000054 48BE-                       mov     rsi, input
    33 00000056 [0000000000000000] 
    34 0000005E BA0A000000                  mov     rdx, inlen
    35 00000063 E802000000                  call    prints
    36                                  
    37                                  
    38 00000068 C9                          leave
    39 00000069 C3                          ret
    40                                  
    41                                  
    42                                  prints:
    43 0000006A 55                          push    rbp
    44 0000006B 4889E5                      mov     rbp, rsp
    45                                  
    46                                      ; rsi contains adress of string
    47                                      ; rdx contains the len
    48                                  
    49 0000006E B801000000                      mov     rax, 1
    50 00000073 BF01000000                      mov     rdi, 1
    51 00000078 0F05                            syscall
    52                                  
    53 0000007A C9                          leave
    54 0000007B C3                          ret
    55                                  
    56                                  reads:
    57 0000007C 55                          push    rbp
    58 0000007D 4889E5                      mov     rbp, rsp
    59                                  
    60                                      ; rsi contains adress of input buffer
    61                                      ; rdi contains len of input buffer
    62 00000080 B800000000                      mov     rax, 0 ; read
    63 00000085 BF01000000                      mov     rdi, 1
    64 0000008A 0F05                            syscall
    65                                  
    66 0000008C C9                          leave
    67 0000008D C3                          ret
