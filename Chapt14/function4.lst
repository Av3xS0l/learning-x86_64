     1                                  extern printf
     2                                  extern c_area
     3                                  extern c_circum
     4                                  extern r_area
     5                                  extern r_circum
     6                                  global pi
     7                                  
     8                                  section .data
     9 00000000 50455254FB210940            pi      dq  3.141592654
    10 00000008 0000000000002440            radius  dq  10.0
    11 00000010 0400000000000000            side1   dq  4
    12 00000018 0500000000000000            side2   dq  5
    13 00000020 25732025660A00              fmtf    db  "%s %f",10,0
    14 00000027 25732025640A00              fmti    db  "%s %d",10,0
    15 0000002E 436972636C65206172-         ca      db  "Circle area: ",0
    15 00000037 65613A2000         
    16 0000003C 436972636C65206369-         cc      db  "Circle circum: ",0
    16 00000045 7263756D3A2000     
    17 0000004C 526563742061726561-         ra      db  "Rect area: ",0
    17 00000055 3A2000             
    18 00000058 526563742063697263-         rc      db  "Rect circum: ",0
    18 00000061 756D3A2000         
    19                                  section .bss
    20                                  section .text
    21                                      global main
    22                                  main:
    23 00000000 55                          push    rbp
    24 00000001 4889E5                      mov     rbp, rsp
    25                                      ; circle
    26 00000004 F20F100425-                 movsd   xmm0, qword [radius]
    26 00000009 [08000000]         
    27 0000000D E8(00000000)                call c_area
    28                                      ; print area
    29 00000012 48BF-                           mov     rdi, fmtf
    29 00000014 [2000000000000000] 
    30 0000001C 48BE-                           mov     rsi, ca
    30 0000001E [2E00000000000000] 
    31 00000026 B801000000                      mov     rax, 1
    32 0000002B E8(00000000)                    call printf
    33                                      
    34 00000030 F20F100425-                 movsd   xmm0, qword [radius]
    34 00000035 [08000000]         
    35 00000039 E8(00000000)                call    c_circum
    36                                  
    37 0000003E 48BF-                           mov     rdi, fmtf
    37 00000040 [2000000000000000] 
    38 00000048 48BE-                           mov     rsi, cc
    38 0000004A [3C00000000000000] 
    39 00000052 B801000000                      mov     rax, 1
    40 00000057 E8(00000000)                    call printf
    41                                      
    42                                      ; rectang
    43 0000005C 488B3C25[10000000]          mov     rdi, [side1]
    44 00000064 488B3425[18000000]          mov     rsi, [side2]
    45 0000006C E8(00000000)                call    r_area
    46                                  
    47 00000071 48BF-                           mov     rdi, fmti
    47 00000073 [2700000000000000] 
    48 0000007B 48BE-                           mov     rsi, ra
    48 0000007D [4C00000000000000] 
    49 00000085 4889C2                          mov     rdx, rax
    50 00000088 B800000000                      mov     rax, 0
    51 0000008D E8(00000000)                    call    printf
    52                                      
    53 00000092 488B3C25[10000000]          mov     rdi, [side1]
    54 0000009A 488B3425[18000000]          mov     rsi, [side2]
    55 000000A2 E8(00000000)                call    r_circum
    56                                  
    57 000000A7 48BF-                           mov     rdi, fmti
    57 000000A9 [2700000000000000] 
    58 000000B1 48BE-                           mov     rsi, rc
    58 000000B3 [5800000000000000] 
    59 000000BB 4889C2                          mov     rdx, rax
    60 000000BE B800000000                      mov     rax, 0
    61 000000C3 E8(00000000)                    call    printf
    62 000000C8 4889EC                      mov     rsp, rbp
    63 000000CB 5D                          pop     rbp
    64 000000CC C3                          ret
    65                                      
